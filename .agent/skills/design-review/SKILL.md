---
name: design-review
description: 設計書のレビューを行い、漏れや省略、不整合を特定し品質を向上させる
---

# 設計書レビュースキル

## 概要

このスキルは、ソフトウェア開発における設計書（要件定義書、基本設計書、詳細設計書など）を体系的にレビューし、以下の問題を特定します：

- **AI生成設計の典型的問題**: 抽象的すぎる記述、具体的な数値・閾値の欠如、エッジケースの省略
- **人間にとって必要な情報の欠落**: 運用手順、エラー時の対応、判断基準の明確化
- **大規模化による省略**: 機能や処理の一部が省かれている、詳細が不足している

## トリガー

以下のような依頼でこのスキルを使用してください：

- 「この設計書をレビューして」
- 「設計書の問題点を見つけて」
- 「仕様漏れがないか確認して」
- 「AIが生成した設計をチェックして」
- `/design-review` コマンド

## レビューモード

### クイックレビュー（デフォルト）

対象：単一の設計書、短時間チェック（10-15分）
チェックリスト：[quick-review.md](./checklists/quick-review.md)

### フルレビュー

対象：複数設計書の整合性確認、網羅的な評価（30分以上）
チェックリスト：[full-review.md](./checklists/full-review.md)

### AI生成設計専用レビュー

対象：生成AIが作成した設計書の特有の問題を検出
チェックリスト：[ai-generated-review.md](./checklists/ai-generated-review.md)

## レビュー手順

1. **対象の特定**: レビュー対象の設計書を確認
2. **関連文書の確認**: 要件定義書、他の設計書との関連を把握
3. **モードの選択**: クイック/フル/AI生成設計のいずれかを選択
4. **チェックリストの実行**: 該当するチェックリストに従って確認
5. **結果の出力**: [review-report.md](./templates/review-report.md) テンプレートで報告

## レビュー観点

### 1. 要件との整合性
- 機能要件が漏れなく設計に落とし込まれているか
- 非機能要件（性能、セキュリティ、運用）が考慮されているか
- 要件トレーサビリティが確保されているか
- 矛盾する要件がないか

### 2. 完全性・網羅性
- すべての機能が設計に含まれているか
- 正常系・異常系・境界値が考慮されているか
- エラー処理・例外処理が明記されているか
- 運用・保守観点（ログ、監視、バックアップ）が含まれているか

### 3. 具体性・明確性
- 具体的な数値・閾値が定義されているか
- 曖昧な表現（「適切に」「必要に応じて」等）がないか
- 判断基準が明確か
- 5W1H（誰が、何を、いつ、どこで、なぜ、どのように）が明確か

### 4. 一貫性・整合性
- 用語が統一されているか
- 他の設計書と矛盾がないか
- 画面設計とデータ設計の整合性
- インターフェース仕様の一貫性

### 5. 実装可能性
- 設計が実装可能なレベルで詳細化されているか
- 技術的な制約が考慮されているか
- パフォーマンス要件を満たせる設計か
- スケジュール・リソースに見合った設計か

### 6. セキュリティ
- 認証・認可の設計が適切か
- 入力検証の仕様があるか
- セキュリティ要件が設計に反映されているか
- センシティブデータの取り扱いが明記されているか

### 7. 保守性・拡張性
- 変更に強い設計になっているか
- モジュール化・疎結合が考慮されているか
- 将来の拡張ポイントが明確か
- 技術的負債を生みにくい設計か

### 8. ドキュメント品質
- 文書構造が論理的か
- 図表が効果的に使用されているか
- 誤字脱字・表記ゆれがないか
- バージョン・更新履歴が管理されているか

## AI生成設計の特有チェック項目

### 省略パターンの検出
- 「など」「等」で終わる列挙（完全なリストが必要）
- 「詳細は別途」「後で定義」（未完了の項目）
- 汎用的すぎる説明（具体性なし）
- コピペパターン（同じ文が繰り返される）

### 抽象化の問題
- 数値で表すべきものが定性的表現になっている
- エラーコード・メッセージが具体化されていない
- データ型・サイズが未定義
- 状態遷移の条件が曖昧

### 人間視点の欠落
- 運用時のトラブルシューティング情報がない
- ユーザーへのエラーメッセージが考慮されていない
- 手動介入が必要なケースが想定されていない
- 障害復旧手順がない

## 重要度分類

レビュー結果は以下の重要度で分類します：

| レベル | 説明 | 対応 |
|-------|------|------|
| 🚨 Critical | 要件漏れ、重大な矛盾、セキュリティ問題 | 必須修正 |
| ⚠️ Warning | 曖昧な記述、実装困難、不整合 | 推奨修正 |
| 💡 Suggestion | ベストプラクティス、改善提案 | 検討 |
| ℹ️ Info | 情報提供、参考事項 | 任意 |

## 出力フォーマット

レビュー結果は以下のセクションで構成します：

1. **サマリー**: 全体評価と主要な発見
2. **Critical/Warning**: 必須/推奨の修正項目
3. **Suggestions**: 改善提案
4. **関連文書との整合性**: 他ドキュメントとの不整合

## 関連リソース

- [設計書の品質管理指標](./resources/quality-metrics.md)
- [設計書テンプレート例](./templates/design-doc-template.md)
