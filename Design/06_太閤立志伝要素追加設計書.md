# PM立志伝：太閤立志伝要素追加設計書

**Version**: 1.0  
**Last Updated**: 2025-12-30  
**Document Type**: Feature Extension Design Specification

---

## 1. 概要

### 1.1 本書の目的
本書は、『PM立志伝：プロジェクト・クロニクル』に『太閤立志伝V』的な世界観・スケール感を追加するための設計仕様を定める。

### 1.2 太閤立志伝から継承する要素

| 太閤立志伝の要素 | PM立志伝での対応 |
|-----------------|-----------------|
| 複数の国（大名家） | 複数のIT企業 |
| 武将800人以上 | IT人材800人以上 |
| 仕官・浪人・独立 | 就職・フリーランス・起業 |
| 戦国時代の推移 | IT業界の時代変遷（1990-2030） |
| 合戦・城攻め | 大型プロジェクト・入札競争 |
| 内政・商業 | 社内活動・事業拡大 |
| 結婚・人間関係 | 社内恋愛・人脈形成 |
| 天下統一 | 日本一のIT企業を目指す |

---

## 2. 時代設定システム

### 2.1 ゲーム内時間

| 項目 | 設定 |
|------|------|
| 対象期間 | 1990年〜2030年（40年間） |
| 開始年選択 | 1990/1995/2000/2005/2010/2015/2020/2025 |
| 1年 = | 52週間（52ターン） |
| 定年年齢 | 65歳（設定で変更可能） |

### 2.2 時代区分とIT業界トレンド

```
┌─────────────────────────────────────────────────────────┐
│ 1990-1999: 汎用機・C/S時代                               │
│   • メインフレーム全盛期                                 │
│   • クライアントサーバシステム登場                       │
│   • インターネット黎明期                                 │
│   • 主要スキル: COBOL, C, Oracle                         │
└─────────────────────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────────────────────┐
│ 2000-2009: Web時代                                       │
│   • Webアプリケーション全盛                              │
│   • オフショア開発の台頭                                 │
│   • 携帯電話（ガラケー）向け開発                         │
│   • 主要スキル: Java, PHP, .NET                          │
└─────────────────────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────────────────────┐
│ 2010-2019: モバイル・クラウド時代                        │
│   • スマートフォンアプリ全盛                             │
│   • クラウド移行プロジェクト増加                         │
│   • アジャイル開発の普及                                 │
│   • 主要スキル: Swift, Kotlin, AWS, React                │
└─────────────────────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────────────────────┐
│ 2020-2030: AI・DX時代                                    │
│   • AI/機械学習プロジェクト急増                          │
│   • DX（デジタルトランスフォーメーション）               │
│   • リモートワーク標準化                                 │
│   • 主要スキル: Python, TypeScript, Kubernetes, AI/ML    │
└─────────────────────────────────────────────────────────┘
```

### 2.3 歴史イベントシステム

#### 2.3.1 大規模経済イベント

| 年 | イベント名（ゲーム内） | 実際の出来事 | 影響 |
|----|----------------------|-------------|------|
| 2000 | ITバブル崩壊 | ドットコムバブル | 投資縮小、ベンチャー倒産リスク+50% |
| 2008 | 世界金融危機 | リーマンショック | 大型案件凍結、人員削減イベント発生 |
| 2011 | 東日本大震災 | 東日本大震災 | BCP案件急増、東北拠点企業に影響 |
| 2020 | 世界疫病危機 | COVID-19 | リモート化、DX案件急増、出張不可 |

#### 2.3.2 業界トレンドイベント

| 年 | イベント名 | 影響 |
|----|-----------|------|
| 1995 | インターネット元年 | Web系スキル需要急増 |
| 2007 | スマートフォン登場 | モバイル開発需要急増 |
| 2012 | クラウド普及期 | インフラ系需要減、クラウドスキル需要増 |
| 2016 | AIブーム到来 | データサイエンス人材争奪戦 |
| 2023 | 生成AI革命 | AI活用案件爆発的増加 |

#### 2.3.3 イベント発生時の処理

```
イベント発生時:
  1. 全画面にニュース演出を表示
  2. 業界全体への影響を適用
     - 案件パイプラインの変動
     - 各企業の業績への影響
     - スキル需要の変化
  3. 個別企業イベントを判定
     - 破産判定
     - M&A判定
     - 新規事業参入判定
  4. NPC動向を更新
     - 転職活動の活発化
     - 独立・起業の判定
```

---

## 3. 企業システム

### 3.1 企業数と分類

| カテゴリ | 初期数 | 追加条件 | 特徴 |
|---------|-------|---------|------|
| 大企業 | 5社 | なし | 資金潤沢、官僚的、昇進遅い |
| 中小企業 | 15社 | なし | バランス型、専門特化 |
| ベンチャー | 0社 | 時代進行で追加（最大5社） | 成長速い、リスク高、昇進速い |

**システム設定で変更可能**: 各カテゴリの企業数、倒産確率、M&A確率

### 3.2 企業名生成システム

#### 3.2.1 命名規則
```
企業名 = [プレフィックス] + [中央語] + [サフィックス]

例:
  - 日本 + ソフト + 株式会社 → 日本ソフト株式会社
  - 富士 + データ + システムズ → 富士データシステムズ
  - 大和 + Zero + Inc. → 大和Zero Inc.
```

#### 3.2.2 語彙プール（各30種以上）

**プレフィックス（接頭語）**:
```
日本, 大和, 富士, 東京, 大阪, 神奈川, 中央, 
総合, 新日本, 第一, 帝国, 太平洋, 環太平洋, 
アジア, グローバル, ユニバーサル, インター,
日立, 東芝, 三菱, 住友, 安田, 古河,
ネオ, フューチャー, ネクスト, サイバー, デジタル, ...
```

**中央語（コア名）**:
```
ソフト, データ, システム, ネット, テック,
コンピュータ, インフォ, ロジック, ソリューション,
サイエンス, イノベーション, クラウド, AI,
Zero, One, Alpha, Beta, Gamma,
パートナーズ, アソシエイツ, グループ,
コード, ラボ, ワークス, デザイン, ...
```

**サフィックス（接尾語）**:
```
株式会社, Inc., Co., Ltd., Corp.,
システムズ, ソリューションズ, テクノロジーズ,
エンタープライズ, ホールディングス,
ジャパン, アジア, グローバル,
ベース, ソフトウェア, サービス,
ラボラトリー, リサーチ, ...
```

### 3.3 企業属性

```typescript
interface Company {
  id: string;                    // UUID
  name: string;                  // 生成された企業名
  foundedYear: number;           // 設立年
  category: 'LARGE' | 'MEDIUM' | 'VENTURE';
  
  // 規模
  employeeCount: number;         // 名前付きNPC数
  mobEmployeeCount: number;      // モブ社員数（「その他xxx人」）
  revenue: number;               // 年商（億円）
  
  // 企業特性
  culture: CompanyCulture;       // 企業文化
  specialties: Specialty[];       // 得意分野（下記定義参照）
  skills: SkillTrend[];          // 社内で強いスキル

  
  // 状態
  reputation: number;            // 業界評判（0-100）
  financialHealth: number;       // 財務健全性（0-100）
  growthRate: number;            // 成長率
  
  // 関係
  rivals: string[];              // ライバル企業ID
  partners: string[];            // 協業企業ID
  
  // 歴史
  isActive: boolean;             // 存続中か
  bankruptYear?: number;         // 破産年（あれば）
  acquiredBy?: string;           // 買収された企業ID（あれば）
}

interface CompanyCulture {
  workStyle: 'TRADITIONAL' | 'BALANCED' | 'FLEXIBLE';  // 働き方
  hierarchy: 'STRICT' | 'MODERATE' | 'FLAT';           // 階層構造
  innovation: 'CONSERVATIVE' | 'MODERATE' | 'AGGRESSIVE'; // 革新性
  training: 'MINIMAL' | 'STANDARD' | 'EXTENSIVE';      // 教育制度
}

/** 得意分野（完全リスト） */
type Specialty = 
  | 'FINANCE'         // 金融（銀行、証券、保険）
  | 'MEDICAL'         // 医療（病院、製薬）
  | 'GOVERNMENT'      // 官公庁（中央省庁、自治体）
  | 'MANUFACTURING'   // 製造業（自動車、電機）
  | 'RETAIL'          // 流通・小売（EC、物流）
  | 'TELECOM'         // 通信（キャリア、ISP）
  | 'MEDIA'           // メディア（放送、出版）
  | 'EDUCATION'       // 教育（学校、研修）
  | 'REAL_ESTATE'     // 不動産
  | 'ENERGY';         // エネルギー（電力、ガス）
```

### 3.4 企業の興亡システム

#### 3.4.1 新興企業の誕生

| トリガー | 条件 | 企業タイプ |
|---------|------|-----------:|
| 時代イベント: インターネット元年(1995) | Web系スキル需要急増 | Web特化ベンチャー |
| 時代イベント: スマートフォン登場(2007) | モバイル開発需要急増 | モバイル特化ベンチャー |
| 時代イベント: クラウド普及期(2012) | クラウドスキル需要増 | クラウド特化ベンチャー |
| 時代イベント: AIブーム到来(2016) | データサイエンス人材争奪 | AI特化ベンチャー |
| 時代イベント: 生成AI革命(2023) | AI活用案件爆発的増加 | 生成AI特化ベンチャー |
| NPC独立 | 高能力NPCがフリーランス後、起業 | NPC主導のベンチャー |
| ランダム | 年1回判定（10%確率） | 一般ベンチャー |


#### 3.4.2 企業の消滅

**破産条件**:
- 財務健全性 < 20 が2年連続
- 大規模経済イベント時: 財務健全性 < 40 で破産判定

**プレイヤー例外**:
- プレイヤーが所属している企業は、プロジェクト成功で破産回避可能
- 「会社存続プロジェクト」特別イベント発生

**M&A条件**:
- 財務健全性 < 30 かつ 大企業が買収提案
- プレイヤーが社長の場合: 買収拒否オプションあり
- プレイヤーが社長でない場合: イベントとして進行

#### 3.4.3 M&Aの影響

```
買収された企業のNPC:
  1. 買収先企業に転籍（70%）
  2. 退職してフリーランス化（20%）
  3. 他社に転職（10%）

プレイヤーへの影響:
  - 社長の場合: 買収拒否 or 条件交渉イベント
  - 役員の場合: 降格 or 退職選択
  - 一般社員の場合: 転籍 or 退職選択
```

---

## 4. NPC人材システム

### 4.1 NPC規模設計

| 区分 | 人数 | 説明 |
|------|------|------|
| 固有NPC | 800人以上 | 名前・個性・隠しデータを持つ |
| モブ社員 | 各企業に100-1000人 | 「その他xxx人」として表示 |
| フリーランス | 初期100人、変動あり | 在野の人材 |

#### 4.1.1 固有NPCの内訳

| カテゴリ | 人数 | 特徴 |
|---------|------|------|
| レジェンド級 | 30人 | 業界著名人、二つ名持ち |
| エグゼクティブ級 | 100人 | 各社の役員クラス |
| エース級 | 200人 | 各社のトップエンジニア/PM |
| 中堅 | 300人 | 一般的な中堅社員 |
| 若手 | 170人以上 | 新人・若手社員 |

### 4.2 NPC属性

```typescript
interface NPC {
  id: string;
  name: string;
  
  // 基本属性
  birthYear: number;              // 生年（年齢計算用）
  gender: 'M' | 'F' | 'OTHER';
  personality: PersonalityType[];  // 性格タグ
  
  // 所属
  status: 'EMPLOYED' | 'FREELANCE' | 'RETIRED' | 'DECEASED';
  companyId?: string;             // 所属企業（なければフリーランス）
  position: Position;             // 役職
  joinYear: number;               // 入社年
  
  // 能力（ダブルヘキサゴン）
  statsBlue: ProjectSkills;       // 表スキル
  statsRed: TeamSkills;           // 裏スキル
  
  // 成長
  experience: number;             // 経験値
  skills: TechSkill[];            // 技術スキル（時代で陳腐化）
  certifications: string[];       // 保有資格
  
  // 関係性
  relationships: Relationship[];   // 他NPCとの関係
  loyalty: number;                // 会社への忠誠度（0-100）
  ambition: number;               // 野心（0-100）
  
  // 日常
  marriage: MarriageStatus;       // 婚姻状況
  spouseId?: string;              // 配偶者ID
  childCount: number;             // 子供の数
  
  // 隠しデータ
  hiddenData?: {
    trueName: string;             // 二つ名
    trueAbilities: object;        // 覚醒後能力
    backstory: string;            // 背景ストーリー
  };
}

interface Position {
  title: PositionTitle;
  rank: number;                   // 1-10（10が社長）
}

type PositionTitle = 
  | 'NEWCOMER'        // 新人
  | 'MEMBER'          // 一般社員
  | 'SENIOR'          // 主任
  | 'LEADER'          // リーダー
  | 'MANAGER'         // 課長
  | 'SENIOR_MANAGER'  // 部長
  | 'DIRECTOR'        // 本部長
  | 'EXECUTIVE'       // 取締役
  | 'VICE_PRESIDENT'  // 副社長
  | 'PRESIDENT';      // 社長
```

### 4.3 NPC名前生成

```typescript
// 日本人名生成システム
interface NameGenerator {
  surnames: string[];   // 姓（500種以上）
  maleNames: string[];  // 男性名（300種以上）
  femaleNames: string[]; // 女性名（300種以上）
}

// 姓の例
surnames = [
  '佐藤', '鈴木', '高橋', '田中', '伊藤', '渡辺', '山本', '中村',
  '小林', '加藤', '吉田', '山田', '佐々木', '山口', '松本', '井上',
  // ... 500種以上
];

// 名の例（男性）
maleNames = [
  '太郎', '一郎', '健一', '浩', '誠', '大輔', '翔太', '拓也',
  '直樹', '和也', '達也', '健太', '雄介', '慎一', '智也',
  // ... 300種以上
];
```

### 4.4 NPC行動シミュレーション

#### 4.4.1 キャリア行動

```
毎年判定:
  1. 転職検討
     - 忠誠度 < 30: 転職活動開始（60%）
     - 野心 > 70 && 昇進停滞: 転職検討（40%）
     - ヘッドハンティング対象（能力上位10%）
  
  2. 独立検討
     - 経験10年以上 && 野心 > 80: フリーランス転向（5%/年）
     - フリーランス3年以上 && 資金十分: 起業（10%/年）
  
  3. 退職
     - 年齢 >= 定年: 強制退職
     - 体調悪化イベント: 早期退職
     - 会社破産: 全員退職
```

#### 4.4.2 プライベート行動

```
毎年判定:
  1. 結婚
     - 独身 && 年齢25-40 && 同僚との関係良好: 結婚イベント発生（3%/年）
     - 社内結婚: 同じ会社の独身NPCとマッチング
  
  2. 出産
     - 既婚 && 子供2人以下: 出産イベント（10%/年）
     - 育休取得で一時離脱
  
  3. 介護離職
     - 年齢45以上: 親の介護で退職（1%/年）
```

### 4.5 モブ社員システム

```typescript
interface MobEmployees {
  companyId: string;
  count: number;                    // 総人数
  distribution: {
    junior: number;                 // 1-3年目（%）
    midLevel: number;               // 4-10年目（%）
    senior: number;                 // 11年以上（%）
  };
  avgSkillLevel: number;            // 平均スキルレベル（1-10）
}
```

**表示例**:
```
【プロジェクトチーム】
  PM: 山田太郎（課長）
  リーダー: 鈴木花子、田中一郎
  メンバー: 佐藤健、... 他12名
  
  総勢: 15名
```

---

## 5. プレイヤーキャリアシステム

### 5.1 開始条件

| 開始タイプ | 年齢 | 初期能力 | 初期資金 | 特徴 |
|-----------|------|---------|---------|------|
| 新卒入社 | 22歳 | 低（ボーナス込み） | 少 | 成長余地大、就職先選択 |
| 中途入社 | 28-40歳 | 中 | 中 | 即戦力、スキル偏り |
| フリーランス | 25-45歳 | 中-高 | 多 | 自由度高、案件獲得必要 |

### 5.2 キャラクター作成フロー

```
1. 開始タイプ選択
   └─→ 新卒 / 中途 / フリーランス

2. キャラクター選択
   ├─→ 既存NPC選択（推奨NPCリスト表示）
   │     └─ 性格・バックストーリー確定済み
   │
   └─→ 新規作成
         ├─ 名前入力
         ├─ 性別選択
         └─ PM適性診断（10問）
              └─ 初期能力値決定

3. 開始年選択
   └─→ 1990/1995/2000/2005/2010/2015/2020/2025

4. （新卒・中途の場合）就職先選択
   └─→ 応募 → 面接イベント → 内定/不採用
```

### 5.3 PM適性診断

```
質問例（10問中抜粋）:

Q1. プロジェクトで予想外の問題が発生しました。あなたの最初の行動は？
  A) チームを集めてブレインストーミング → 提案+5
  B) すぐに上司に報告・相談 → 折衝+5
  C) 原因を徹底的に調査する → 評価+5
  D) まず影響範囲を確認する → 判断+5

Q2. 納期直前、顧客から追加要求が来ました。どう対応しますか？
  A) 断固拒否する → 折衝+5
  B) 条件付きで受け入れる → 提案+3, 折衝+2
  C) 全力で対応を試みる → 製造+5
  D) 代替案を提案する → 提案+5, 判断+2
```

### 5.4 キャリアパス

```
┌─────────────────────────────────────────────────────────┐
│ 新人 → 一般社員 → 主任 → リーダー → 課長 → 部長        │
│                                         ↓               │
│                              本部長 → 取締役 → 社長     │
│                                         ↑               │
│ フリーランス ─────→ 起業 ──────→ 社長 ───────┘         │
└─────────────────────────────────────────────────────────┘

昇進条件:
  - 経験年数
  - 能力値
  - プロジェクト成功数
  - 上司との関係
  - 会社の成長
```

### 5.5 勝利条件

#### ルートA: 所属企業日本一（サラリーマンルート）
```
条件:
  - 所属企業の年商が業界1位
  - 所属企業の評判が90以上
  - プレイヤーが役員以上
  
エンディング演出:
  「あなたの献身により、〇〇株式会社は日本一のIT企業となった」
```

#### ルートB: 社長として日本一（立志伝ルート）
```
条件:
  - プレイヤーが社長
  - 自社の年商が業界1位
  - 自社の評判が90以上
  
エンディング演出:
  「あなたは伝説のPMとして、自らの会社を日本一に導いた」
```

---

## 6. 日常活動システム

### 6.1 社内活動

| 活動 | 効果 | 必要AP |
|------|------|--------|
| 社内研修 | スキル成長+、若手育成 | 3 |
| 勉強会開催 | スキル成長+、評判+ | 2 |
| 飲み会企画 | 士気回復、関係性+ | 2 |
| 社内清掃 | 偶然の出会いイベント発生 | 1 |
| メンター活動 | 後輩NPC育成、信頼度+ | 2 |

### 6.2 社外活動

| 活動 | 効果 | 必要AP |
|------|------|--------|
| 展示会出展 | 会社評判+、人脈+、案件獲得チャンス | 5 |
| カンファレンス参加 | スキル成長+、人脈+ | 3 |
| 異業種交流会 | 人脈+、転職オファー | 2 |
| 技術ブログ執筆 | 個人評判+、スカウト来る可能性 | 1 |
| OSS活動 | スキル成長+、業界評判+ | 2 |

### 6.3 人間関係イベント

#### 6.3.1 恋愛・結婚
```
発生条件:
  - 同僚NPCとの関係値が80以上
  - 両者とも独身
  - 社内イベント参加時に低確率で発生

イベント進行:
  1. 告白イベント（選択肢）
  2. 交際期間（1-2年）
  3. プロポーズイベント（選択肢）
  4. 結婚式（ゲスト選択）

結婚後の影響:
  - 配偶者の能力一部共有
  - 育休イベント発生可能性
  - 転職時に配偶者が一緒に転職することも
```

#### 6.3.2 ライバル関係
```
発生条件:
  - 同期入社のNPCと昇進競争

イベント進行:
  - プロジェクトでの競争
  - 足の引っ張り合いイベント（選択肢）
  - 和解 or 決裂

最終的に:
  - 良きライバルとして切磋琢磨 → 両者成長
  - 蹴落として昇進 → 評判低下
```

---

## 7. 大規模イベント設計

### 7.1 入札バトル（合戦に相当）

```
大型案件入札:
  参加企業: 3-5社
  
  フェーズ1: RFP読解
    - 要件の理解度を競う
    - 「設計」スキルが重要
  
  フェーズ2: 提案書作成
    - チーム編成
    - 見積もり精度
    - 「提案」スキルが重要
  
  フェーズ3: プレゼン対決
    - 交渉カードバトル
    - 「折衝」スキルが重要
  
  結果:
    - 落札 → 大規模プロジェクト開始
    - 失注 → 評判微減、次回への経験+
```

### 7.2 業界シェア争い（天下統一に相当）

```
業界マップ:
  - セグメント別シェア可視化
    - 金融系
    - 公共系
    - 製造系
    - 流通系
    - 通信系
  
  シェア獲得方法:
    - そのセグメントでのプロジェクト成功
    - M&Aによる吸収
    - 競合他社の失敗
```

---

## 8. データ構造の拡張

### 8.1 WorldState の拡張

```typescript
interface WorldState {
  // 既存
  seed: number;
  currentYear: number;
  currentWeek: number;
  
  // 追加: 企業群
  companies: Company[];
  
  // 追加: 全NPC
  npcs: NPC[];
  freelancers: NPC[];          // フリーランスNPC
  retiredNpcs: NPC[];          // 引退済みNPC
  
  // 追加: 歴史
  pastEvents: HistoricalEvent[];
  upcomingEvents: ScheduledEvent[];
  
  // 追加: 業界状態
  industryState: {
    totalMarketSize: number;    // 市場規模（兆円）
    segmentShares: Map<string, Map<string, number>>; // セグメント別企業シェア
    trendingSkills: string[];   // トレンドスキル
    decliningSkills: string[];  // 陳腐化スキル
  };
}
```

### 8.2 初期データ生成

```
ゲーム開始時:
  1. シード値から乱数初期化（再現可能）
  
  2. 企業生成
     - 大企業5社: 高パラメータ、多人数
     - 中小企業15社: 中パラメータ、専門特化
  
  3. NPC生成
     - 800人+ の固有NPC生成
     - 各企業への配属
     - フリーランス設定
  
  4. 関係性生成
     - 企業間のライバル関係
     - NPC間の人間関係（RelationshipType: COLLEAGUE/RIVAL/MENTOR/MENTEE/FRIEND/SPOUSE）
  
  5. 初期案件生成
     - 時代に応じた案件パイプライン
```

---

## 9. UI拡張

### 9.1 新規画面

| 画面 | 説明 |
|------|------|
| 業界マップ | 企業一覧、シェア、トレンド表示 |
| 人材図鑑 | 800人のNPC閲覧、フィルタ、検索 |
| 年表画面 | 過去イベント、今後の予測 |
| キャリア画面 | 主人公の経歴、目標進捗 |
| 結婚イベント画面 | 恋愛・結婚進行 |

### 9.2 既存画面の拡張

| 画面 | 追加要素 |
|------|---------|
| PMコックピット | 業界ニュースティッカー、トレンド表示 |
| 社員名簿 | フリーランス・他社人材タブ |
| ダッシュボード | 業界順位、勝利条件進捗 |

---

## 10. 実装優先度

### Phase 1: 基盤（必須）
- [ ] 企業システム（生成、属性、興亡）
- [ ] NPC基盤（800人生成、基本属性）
- [ ] 時代システム（開始年選択、年次進行）
- [ ] プレイヤーキャリア（開始条件、昇進）

### Phase 2: ダイナミクス（重要）
- [ ] NPC行動シミュレーション（転職、退職）
- [ ] 歴史イベント発生
- [ ] 入札バトル
- [ ] 日常活動

### Phase 3: 人間ドラマ（あれば最高）
- [ ] 恋愛・結婚システム
- [ ] ライバル関係
- [ ] 二つ名開眼拡張

---

## 11. 検証計画

### 11.1 単体テスト
- 企業名生成ロジック
- NPC名生成ロジック
- 属性値計算ロジック

### 11.2 統合テスト
- 40年間シミュレーション（企業興亡、NPC動態）
- 勝利条件達成パス確認

### 11.3 ユーザーテスト
- ゲームバランス確認
- UI/UX確認
- 800人NPCの認知負荷確認

---

**Document End**
